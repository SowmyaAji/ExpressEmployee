**TASK**

- Create a node app that implements a set of REST APIs allowing CRUD functionality for an employee resource.

**Expected Time**

This exercise is expected to take about 4-5 hours total, over the course of 2-3 days.

**Submission Instructions**

Post your solution to a public repository on [Github](https://github.com/). Send the repository URL back to the same person who sent you these instructions.

**Additional Guidance**

Persistent storage is not necessary, just use an in memory object to track employee records.

Use any npm modules you find useful.

**Expected Endpoints**

POST http://localhost:3000/api/employees

- Create a new record using a randomly generated value as the unique identifier (i.e. _id field).  Validate that the following fields are included in the POST body and have the right type/format as posted below:
    - firstName (String)
    - lastName (String)
    - hireDate (YYYY-MM-DD format must be in the past)
    - role (String) - must be one of the following (case-insensitive):
        - CEO (can only be one of these)
        - VP
        - MANAGER
        - LACKEY

    - In addition to the fields included in the POST body, include two fields in each new record that are populated by different external APIs.  For example, a favorite joke and a favorite quote, or a favorite joke and a second favorite joke.  As long as the two external APIs are different.
        - Possible API endpoints:

            https://ron-swanson-quotes.herokuapp.com/v2/quotes

            https://icanhazdadjoke.com

            https://quotes.rest/qod

PUT http://localhost:3000/api/employees/:id

- Replace the record corresponding to :id with the contents of the PUT body


GET http://localhost:3000/api/employees/:id

- Return the record corresponding to the id parameter


GET http://localhost:3000/api/employees

- Return all current records


DELETE http://localhost:3000/api/employees/:id

- delete the record corresponding to the id parameter

----------------------------------
#How the TASK was carried out: 

##Overview:

The app uses Node.js and its framework Express.js to create, retrieve, update and destory records of employees. It also uses two external APIs to generate quotes and jokes for every employee, which stay the same when other details of the employee are updated. An id is also autogenerated incrementally for each new employee, but stays the same when updated. 

##Installation:
Clone repository and cd into it
```
$ cd boilerplate
$ yarn install
$ node app.js
```

The API can be accessed via Portman app on the localhost:3000

##Testing Methods:

Supertest and Mocha were used to write tests for all the functions.
From the command line run:

```
npm test
```

And all the tests will run. 

Command line curl was also used to post data to the API and test out the CRUD commands.  

###Create:


```
$ curl -k -H "Content-Type: application/json" -X POST -d '{"firstName":"Walter", "lastName": "White", "hireDate": "2019/01/01", role: 'vp'}' "https://localhost/:3000/api/employees" | jq .
```
This threw up the error set in the validation function: 

```
["Invalid date format, please provide in the YYYY-MM-DD one"]
```

The command was corrected using the correct date formatting to: 

```
$ curl -k -H "Content-Type: application/json" -X POST -d '{"firstName":"Walter", "lastName": "White", "hireDate": "2019-01-01", "role": "vp"}' "http://localhost:3000/api/employees" | jq .
```

The output:

```
{
  "firstName": "Walter",
  "lastName": "White",
  "hireDate": "2019-01-01",
  "role": "vp",
  "id": 1,
  "quote": "I love riddles!",
  "joke": "Why did the half blind man fall in the well? Because he couldn't see that well!"
}

```

###Index/Retrieve:


When this was run without creating any employees:
```
$ curl -k -H "Content-Type: application/json" -X GET "http://localhost:3000/api/employees" | jq .
```
The output:

```
{}

```

When run again after some employees were created:

```
{
   "employee1":{
      "firstName":"Jack",
      "lastName":"Ma",
      "hireDate":"2000-10-10",
      "role":"VP",
      "id":1,
      "quote":"There are three acceptable haircuts: high and tight, crew cut, buzz cut.",
      "joke":"What do you call a cow on a trampoline? A milk shake!"
   },
   "employee2":{
      "firstName":"Jane",
      "lastName":"Ma",
      "hireDate":"2000-10-10",
      "role":"VP",
      "id":2,
      "joke":"Why did the kid throw the clock out the window? He wanted to see time fly!",
      "quote":"Son, there is no wrong way to consume alcohol."
   },
   "employee3":{
      "firstName":"Walter",
      "lastName":"White",
      "hireDate":"2019-01-01",
      "role":"vp",
      "id":3,
      "quote":"Don't waste energy moving unless necessary.",
      "joke":"People who don't eat gluten are really going against the grain."
   }
}
```

###Read/Retrieve single employee:

```
$ curl -k -H "Content-Type: application/json" -X GET "http://localhost:3000/api/employees/1" | jq .

```
The output:

```
{ 
   "firstName":"Jack",
   "lastName":"Ma",
   "hireDate":"2000-10-10",
   "role":"VP",
   "id":1,
   "quote":"There are three acceptable haircuts: high and tight, crew cut, buzz cut.",
   "joke":"What do you call a cow on a trampoline? A milk shake!"
}
``` 
 
###Update:

```
$ curl -k -H "Content-Type: application/json" -X PUT -d '{"firstName":"Walter", "lastName": "Reed", "hireDate": "2019-02-01", "role": "vp"}' "http://localhost:3000/api/employees/3"
```

The output:

```
{ 
   "firstName":"Walter",
   "lastName":"Reed",
   "hireDate":"2019-02-01",
   "role":"vp",
   "id":3,
   "quote":"Don't waste energy moving unless necessary.",
   "joke":"People who don't eat gluten are really going against the grain."
}

```

###Delete:

```
$ curl -k -H "Content-Type: application/json" -X DELETE "https://localhost:3000/api/employees/3"
```

The output:

```
{ 
   "firstName":"Walter",
   "lastName":"Reed",
   "hireDate":"2019-02-01",
   "role":"vp",
   "id":3,
   "quote":"Don't waste energy moving unless necessary.",
   "joke":"People who don't eat gluten are really going against the grain."
}

```

##Resources used:


Express.js -- framework
Request-Promise-Native -- to access two external APIs
Cheerio -- to scrape data from the html on one site
Mocha -- to run tests on the code
Supertest -- to run tests on the code
